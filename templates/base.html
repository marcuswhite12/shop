{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{% block title %}{{ site_name }}{% endblock %}</title>
    <meta name="description" content="{{ site_description }}">

    <link rel="stylesheet" href="{% static 'css/colors.css' %}">
    <link rel="stylesheet" href="{% static 'css/custom.css' %}">
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="site-header">
    <div class="container header-inner">

        <!-- Brand -->
        <a href="{% url 'home' %}" class="brand">
            {% if logo_path %}
                <img src="{% static logo_path %}" alt="{{ site_name }}" class="brand-logo">
            {% endif %}
            <span class="brand-name">{{ site_name }}</span>
        </a>

        <!-- Burger -->
        <button class="nav-toggle" id="navToggle" aria-label="Меню">
            <span></span>
            <span></span>
            <span></span>
        </button>

        <!-- Navigation -->
        <nav class="main-nav" id="mainNav">
            <a href="{% url 'home' %}" class="nav-link">Главная</a>

            <a href="{% url 'cart_detail' %}" class="nav-cart-link">
                Корзина
                <span class="cart-count">
                    {% if request.session.cart %}
                        {{ request.session.cart|length }}
                    {% else %}
                        0
                    {% endif %}
                </span>
            </a>
        </nav>

    </div>
</header>

<!-- Overlay -->
<div class="nav-overlay" id="navOverlay"></div>

<!-- ================= MAIN ================= -->
<main class="site-main">

    {% block hero %}{% endblock %}

    <section class="page-section">
        <div class="container">
            {% block content %}{% endblock %}
        </div>
    </section>

</main>

<!-- ================= FOOTER ================= -->
<footer class="site-footer">
    <div class="container footer-inner">

        <div class="footer-brand">
            <strong>{{ site_name }}</strong>
            <p>© 2026</p>
        </div>

        <div class="footer-contacts">
            <p>Тел: {{ phone }}</p>
            <p>Email: {{ email }}</p>
        </div>

    </div>
</footer>

<!-- ================= SCRIPT ================= -->
<script>
const toggle = document.getElementById("navToggle");
const nav = document.getElementById("mainNav");
const overlay = document.getElementById("navOverlay");

function closeMenu() {
    nav.classList.remove("active");
    overlay.classList.remove("active");
    document.body.classList.remove("nav-open");
}

toggle.addEventListener("click", () => {
    nav.classList.toggle("active");
    overlay.classList.toggle("active");
    document.body.classList.toggle("nav-open");
});

overlay.addEventListener("click", closeMenu);
</script>

</body>
</html>